---
import { z } from "zod";
import { ProductResult } from "../utils/schemas";
import ProductCard from "./ProductCard.astro";

const ProductsResult = z.array(ProductResult);
export interface Props {
  products: z.infer<typeof ProductsResult>,
    collection:string
}
const { products,collection } = Astro.props as Props;
const returnProdcuts = products.filter((p)=> {
  const isTrue = p?.collections.find((c:any)=> c.title === collection)
 if(isTrue) return p  
  return 
})


---
<section class="my-8 select-none">

  <div class="text-4xl md:text-6xl py-3 title">{collection}</div>
  <div class=" mySwiper w-full  my-2 overflow-hidden ">
    <div class="swiper-wrapper w-full p-2">
      {
    returnProdcuts.map((p)=>           <div class="swiper-slide  flex justify-center items-center w-full absolute pr-4 md:pr-0"><ProductCard product={p} /></div>

 )
  }   
    
  </div>
</div>
</section>

